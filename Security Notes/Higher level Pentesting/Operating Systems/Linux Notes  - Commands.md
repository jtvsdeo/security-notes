# Linux Notes mostly commands


### Finding things around the OS
**Which**
The which command searches through the directories that are defined in the $PATH environment

**Locate**
Fastest way to locate files and directories. 
Searches `locate.db`. Can use `updatedb` command to update the db it searches

**Find**
Finding files and directories
The main advantage of find over locate is that it can search for files and directories by more than just the name. With find, we can search by file age, size, owner, file type, timestamp, permissions.  



### String Manipulation
**sed**
Sed performs text editing on a stream of text
```
echo "I need to try hard" | sed 's/hard/harder/' 
I need to try harder
```

**cut**
It is used to extract a section of text from a line and output it to the standard output
```
echo "I hack binaries,web apps,mobile apps, and just about anything else" | cut -f 2 -d "," 
web apps
```
```
cut -d ":" -f 1 /etc/passwd 
root
daemon  
bin
```

**awk**
Text processing and is typically used as a data extraction and reporting tool
```
echo "hello::there::friend" | awk -F "::" '{print $1, $3}' 
hello friend
```

**Excersizes**  
Get the username and home directory of every user in /etc/passwd with shell set to /bin/false  
`cat /etc/passwd | grep /bin/false | awk -F ":" '{print $1, $6}'`    

Get all subdomains from cisco.com
`grep "href=" index.html |  grep "cisco.com" | grep -v  "www.cisco.com" | awk -F "https://" '{print $2}' | cut -d "/" -f 1
`

### Text Editors
**Vi Shortcuts**
dd - deletes current line
yy - copy curr line
p - paste clipboard contents


### Comparing Files
diff, comm
To show additions and deletions without context, line numbers, +, -, <, > ! etc, you can use diff like this:  
```
diff --changed-group-format='%<%>' --unchanged-group-format='' a.txt b.tx
```

**Sort**  

**Uniq**  


### Terminal processes
`Ctrl + z`  -  background a process 
`fg/ fg %1 ` -  resume a backgrounded process %1 for first process
`jobs` lists all background processes

`ps -aux`  lists all processes
`kill <PID>` kills the process
```
Use the `kill [ID]` command to try killing the process using the SIGTERM signal  
Use the `kill -9 [ID]` command to kill the process immediately using the SIGKILL 
```

### File transfers with nc
Client:  `nc -lvp 4444 > file.exe`
Server: `nc -vn 4444 < /home/kali/file.exe`

------------------------

### Others
**systemctl**
Start and stop services, example `sudo systemctl start apache2`


**Bash History**
Using  `!` followed by a number will rerun that command from bash history
Using  `!!`  will rerun the previous command from bash history.

Can use reverse-i-search to navigate as well as keyboard shortcuts

**wc**
Print newline, word, and byte counts for each file
`wc -m < file.txt` counts characters in file.txt

**Alias**
An alias is a string we can define that replaces a command name. Aliases are useful for replacing commonly-used commands and switches with a shorter command
```
alias lsa='ls -la' 
lsa will now run ls -la
```
`unalias` command can be used to unset the alias


